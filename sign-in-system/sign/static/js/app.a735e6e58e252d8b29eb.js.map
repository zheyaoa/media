{"version":3,"sources":["webpack:///src/components/Form.vue","webpack:///./src/components/Form.vue?013a","webpack:///./src/components/Form.vue","webpack:///src/App.vue","webpack:///./src/App.vue?6392","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["Form","name","data","formData","companyName","id","tel","timer","companiesData","show","searchBox","success","clickValue","btnDisabled","html","methods","handleChange","_this","this","judgeChangeEventByClick","judgeExit","setTimeout","getCompaniesDetailByInput","clearInterval","_this2","axios_default","a","get","then","res","enterprises","judgeSigned","signed","handleItemClick","item","handleSubmit","_this3","testFormData","enterpriseId","personInCharge","phoneNumber","console","log","post","result","$messagebox","alert","catch","test","components_Form","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","label","placeholder","on","input","model","value","callback","$$v","$set","expression","directives","rawName","_l","key","click","$event","_s","type","disabled","staticRenderFns","App","components","__webpack_require__","normalizeComponent","ssrContext","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","Vue","use","lib_default","config","productionTip","el","template"],"mappings":"8LAwCAA,GACAC,KAAA,OACAC,KAFA,WAGA,OACAC,UACAC,YAAA,GACAC,GAAA,GACAJ,KAAA,GACAK,IAAA,IAEAC,MAAA,KACAC,iBACAC,MACAC,WAAA,EACAC,SAAA,GAEAC,WAAA,GACAC,aAAA,EACAC,KAAA,yLAOAC,SAIAC,aAJA,WAIA,IAAAC,EAAAC,KAEA,GADAA,KAAAC,2BACAD,KAAAE,YAAA,SACAF,KAAAL,aAAA,EACAK,KAAAT,KAAAC,WAAA,EACAQ,KAAAX,MAAAc,WAAA,WACAJ,EAAAK,4BACAC,cAAAN,EAAAV,OACAU,EAAAV,MAAA,MACA,MAKAa,UAlBA,WAmBA,OAAAF,KAAAN,YAAAM,KAAAf,SAAAC,aAAA,IAAAc,KAAAf,SAAAC,cAAAc,KAAAX,OAQAY,wBA3BA,WA4BAD,KAAAN,YAAAM,KAAAf,SAAAC,cACAc,KAAAT,KAAAE,SAAA,IAMAW,0BAnCA,WAmCA,IAAAE,EAAAN,KACA,OAAAA,KAAAf,SAAAC,YAEA,OADAc,KAAAT,KAAAC,WAAA,GACA,EAEYe,EAAAC,EAAZC,IAAA,mBAAAT,KAAAf,SAAAC,aACAwB,KAAA,SAAAC,GACAL,EAAAhB,cAAAqB,EAAA3B,KAAA4B,eAMAC,YAhDA,SAgDAC,GACA,GAAAA,GACAd,KAAAT,KAAAE,SAAA,EACAO,KAAAL,aAAA,IAEAK,KAAAT,KAAAE,SAAA,EACAO,KAAAL,aAAA,IAMAoB,gBA5DA,SA4DAC,GACAhB,KAAAN,WAAAsB,EAAAjC,KACAiB,KAAAf,SAAAE,GAAA6B,EAAA7B,GACAa,KAAAf,SAAAC,YAAA8B,EAAAjC,KACAiB,KAAAT,KAAAC,WAAA,EACAQ,KAAAa,YAAAG,EAAAF,SAKAG,aAtEA,WAsEA,IAAAC,EAAAlB,KAMA,GAJAA,KAAAL,aAAA,EACAQ,WAAA,WACAe,EAAAvB,aAAA,GACA,MACAK,KAAAmB,eACA,SAGA,IAAAnC,GACAoC,aAAApB,KAAAf,SAAAE,GACAkC,eAAArB,KAAAf,SAAAF,KACAuC,YAAAtB,KAAAf,SAAAG,KAEAmC,QAAAC,IAAAxC,GACYuB,EAAAC,EAAZiB,KAAA,WAAAzC,GACA0B,KAAA,SAAAC,GACA,GAAAA,EAAA3B,KAAA0C,QACAR,EAAAS,YAAAC,MAAAV,EAAAtB,QAGAiC,MAAA,WACAX,EAAAS,YAAAC,MAAA,cAOAT,aApGA,WAsGA,IAAAO,GAAA,EACA,IAAA1B,KAAAf,SAAAC,aAAA,IAAAc,KAAAf,SAAAF,MAAA,IAAAiB,KAAAf,SAAAC,cACAwC,GAAA,GAUA,MAPA,yBACAI,KAAA9B,KAAAf,SAAAG,OACAsC,GAAA,GAEAA,GACA1B,KAAA2B,YAAAC,MAAA,UAEAF,KChLeK,GADEC,OAFjB,WAA0B,IAAAC,EAAAjC,KAAakC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,cAAwBF,EAAA,OAAYE,YAAA,WAAqBL,EAAAM,GAAA,cAAAN,EAAAM,GAAA,KAAAH,EAAA,OAA6CE,YAAA,YAAsBF,EAAA,YAAiBI,OAAOC,MAAA,OAAAC,YAAA,QAAoCC,IAAKC,MAAAX,EAAAnC,cAAyB+C,OAAQC,MAAAb,EAAAhD,SAAA,YAAA8D,SAAA,SAAAC,GAA0Df,EAAAgB,KAAAhB,EAAAhD,SAAA,cAAA+D,IAA2CE,WAAA,0BAAoCjB,EAAAM,GAAA,KAAAH,EAAA,OAAwBe,aAAapE,KAAA,OAAAqE,QAAA,SAAAN,MAAAb,EAAA1C,KAAA,UAAA2D,WAAA,mBAAoFZ,YAAA,cAA0BL,EAAAoB,GAAApB,EAAA,uBAAAjB,GAA4C,OAAAoB,EAAA,OAAkBkB,IAAAtC,EAAA7B,GAAAmD,YAAA,aAAAE,OAA4C1B,OAAAE,EAAAF,QAAqB6B,IAAKY,MAAA,SAAAC,GAAyBvB,EAAAlB,gBAAAC,OAA4BiB,EAAAM,GAAA,yBAAAN,EAAAwB,GAAAzC,EAAAjC,MAAA,4BAA6E,GAAAkD,EAAAM,GAAA,KAAAH,EAAA,OAA4Be,aAAapE,KAAA,OAAAqE,QAAA,SAAAN,MAAAb,EAAA1C,KAAA,QAAA2D,WAAA,iBAAgFZ,YAAA,YAAwBL,EAAAM,GAAA,aAAAN,EAAAM,GAAA,KAAAH,EAAA,YAAiDI,OAAOC,MAAA,QAAAC,YAAA,SAAsCG,OAAQC,MAAAb,EAAAhD,SAAA,KAAA8D,SAAA,SAAAC,GAAmDf,EAAAgB,KAAAhB,EAAAhD,SAAA,OAAA+D,IAAoCE,WAAA,mBAA6BjB,EAAAM,GAAA,KAAAH,EAAA,YAA6BI,OAAOC,MAAA,OAAAC,YAAA,QAAoCG,OAAQC,MAAAb,EAAAhD,SAAA,IAAA8D,SAAA,SAAAC,GAAkDf,EAAAgB,KAAAhB,EAAAhD,SAAA,MAAA+D,IAAmCE,WAAA,kBAA4BjB,EAAAM,GAAA,KAAAH,EAAA,aAA8BE,YAAA,SAAAE,OAA4BkB,KAAA,UAAAC,SAAA1B,EAAAtC,aAA4CgD,IAAKY,MAAAtB,EAAAhB,gBAA0BgB,EAAAM,GAAA,uCAE1gDqB,oBCCjB,ICMAC,GACA9E,KAAA,MACA+E,YACAhF,KDTyBiF,EAAQ,OAcjCC,CACElF,EACAiD,GATF,EAVA,SAAAkC,GACEF,EAAQ,SAaV,kBAEA,MAUgC,UEvBjBG,GADElC,OAFP,WAAgB,IAAaE,EAAblC,KAAamC,eAA0BC,EAAvCpC,KAAuCqC,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBI,OAAOrD,GAAA,SAAYiD,EAAA,aAE7FwB,oBCChC,IAuBeO,EAvBUJ,EAAQ,OAcjBK,CACdP,EACAK,GAT6B,EAV/B,SAAoBD,GAClBF,EAAQ,SAaS,kBAEU,MAUG,kBClBhCM,UAAIC,IAAJC,EAAA/D,GACA6D,UAAIG,OAAOC,eAAgB,EAG3B,IAAIJ,WACFK,GAAI,OACJZ,YAAcD,OACdc,SAAU","file":"static/js/app.a735e6e58e252d8b29eb.js","sourcesContent":["<template>\n    <div class=\"container\">\n        <div class='header'>高招咨询会签到表</div>\n        <div class=\"content\">\n            <mt-field label=\"公司名称\" \n                placeholder=\"公司名称\" \n                v-model=\"formData.companyName\" \n                @input=\"handleChange\"\n            >\n            </mt-field>\n            <div class=\"searchBox\" v-show=\"show.searchBox\">\n                <template v-for=\"item in companiesData\">\n                    <div class=\"searchItem\" :key=\"item.id\" :signed='item.signed' \n                        @click=\"handleItemClick(item)\">\n                        {{item.name}}\n                    </div>\n                </template>\n            </div>\n            <div class=\"success\" v-show=\"show.success\">你已经完成签到</div>\n            <mt-field label=\"负责人姓名\" \n                placeholder=\"负责人姓名\" \n                v-model=\"formData.name\"\n            >\n            </mt-field>\n            <mt-field label=\"联系方式\" \n                placeholder=\"联系方式\" \n                v-model=\"formData.tel\"\n            ></mt-field>\n            <mt-button class=\"submit\" \n                type=\"primary\" \n                @click=\"handleSubmit\" \n                :disabled=\"btnDisabled\"\n            >\n                签到\n            </mt-button>\n        </div>\n    </div>\n</template>\n<script>\nimport axios from 'axios';\nexport default {\n    name:'Form',\n    data() {\n        return{\n            formData:{\n                companyName:'',\n                id:'',\n                name:'',\n                tel:''\n            },\n            timer:null,\n            companiesData:[],\n            show:{\n                searchBox:false,\n                success:false\n            },\n            clickValue:'',\n            btnDisabled:true,\n            html:`<p>你已经签到成功，有问题加微信群</p>\n                  <div>\n                    <img style='height:4rem' src=\"./static/images/wx.jpg\"></img>\n                  </div> \n                    `\n        }\n    },\n    methods:{\n        /**\n         * @todo 数据修改时执行\n         */\n        handleChange(){\n            this.judgeChangeEventByClick()\n            if(!this.judgeExit()) return false;\n            this.btnDisabled = true;\n            this.show.searchBox = true\n            this.timer = setTimeout(()=>{\n                this.getCompaniesDetailByInput()\n                clearInterval(this.timer)\n                this.timer = null\n            },500)\n        },\n        /**\n         * @todo 判断是否退出handleChange事件\n         */\n        judgeExit(){\n            if(this.clickValue == this.formData.companyName||this.formData.companyName == ''||this.timer){\n                return false\n            }\n            return true\n        },\n        /**\n         * @todo 判断handleChange事件是否由点击事件触发,执行对应操作\n         */\n        judgeChangeEventByClick(){\n            if(this.clickValue != this.formData.companyName){\n                this.show.success = false;\n            }\n        },\n        /**\n         * @todo 根据input获取值渲染到页面中 \n         */\n        getCompaniesDetailByInput(){\n            if(this.formData.companyName ==  ''){\n                this.show.searchBox = false\n                return false\n            }\n            axios.get(`api/search?name=${this.formData.companyName}`)\n            .then((res) => {\n                this.companiesData = res.data.enterprises;\n            })\n        },\n        /**\n         * @todo 判断该公司是否完成签到\n         */\n        judgeSigned(signed){\n           if(signed == 1){\n                this.show.success = true;\n                this.btnDisabled = true;          \n           }else{\n                this.show.success = false;\n                this.btnDisabled = false;                         \n           }\n        },\n        /**\n         * @todo 点击item图标对值进行修改\n         */\n        handleItemClick(item){\n            this.clickValue = item.name;\n            this.formData.id = item.id;\n            this.formData.companyName = item.name;\n            this.show.searchBox = false;\n            this.judgeSigned(item.signed)\n        },\n        /**\n         * @todo 提交表单的数据　\n         */\n        handleSubmit(){\n            //禁用提交按钮一秒后恢复\n            this.btnDisabled = true;\n            setTimeout(()=>{\n                this.btnDisabled = false;\n            },1000)\n            if(!this.testFormData()){\n                return false;\n            }\n            //处理上传数据\n            let data = {\n                \"enterpriseId\":this.formData.id,\n                \"personInCharge\":this.formData.name,\n                \"phoneNumber\":this.formData.tel\n            }\n            console.log(data)\n            axios.post('api/sign',data)\n            .then((res)=>{\n                if(res.data.result == 1){\n                    this.$messagebox.alert(this.html);                    \n                }\n            })\n            .catch(()=>{\n                this.$messagebox.alert('网络繁忙请重试')\n            });\n        },\n        /**\n         * @todo 检验表单数据是合理\n         * @returns {Boolean 表单数据是否合理}\n         */\n        testFormData(){\n            //数据不为空\n            let result = true\n            if(this.formData.companyName==''||this.formData.name==''||this.formData.companyName == ''){\n                result = false;\n            }\n            //验证手机号格式\n            let reg = /^1[3|4|5|7|8][0-9]{9}$/\n            if(!reg.test(this.formData.tel)){\n                result = false\n            }\n            if(!result){\n                this.$messagebox.alert('输入格式有误')\n            }\n            return result\n        }\n    }\n}\n</script>\n<style lang=\"stylus\" scoped>\n    .content >>> .mint-cell-title\n        text-align left\n    .container\n        display flex\n        flex-direction column \n        margin 0 auto  \n        height 100%\n        max-width 8rem\n        background-color #ffffff\n        .header\n            margin-top .4rem\n            margin-bottom .6rem\n            height 1rem\n            line-height 1rem\n            font-size .48rem\n        .content\n            flex 1\n            width 80%\n            margin 0 auto\n            padding-top 1.4rem\n            .success\n                color: #a94442; \n                padding-left .2rem\n                text-align left \n                line-height .4rem\n            .searchBox\n                max-height 4rem\n                overflow auto\n                .searchItem\n                    border-top .02rem solid #f1f1f1\n                    height .7rem\n                    line-height .7rem\n        .submit\n            margin-top .8rem\n            width 100%\n            border-radius .1rem\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/Form.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"header\"},[_vm._v(\"高招咨询会签到表\")]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('mt-field',{attrs:{\"label\":\"公司名称\",\"placeholder\":\"公司名称\"},on:{\"input\":_vm.handleChange},model:{value:(_vm.formData.companyName),callback:function ($$v) {_vm.$set(_vm.formData, \"companyName\", $$v)},expression:\"formData.companyName\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show.searchBox),expression:\"show.searchBox\"}],staticClass:\"searchBox\"},[_vm._l((_vm.companiesData),function(item){return [_c('div',{key:item.id,staticClass:\"searchItem\",attrs:{\"signed\":item.signed},on:{\"click\":function($event){_vm.handleItemClick(item)}}},[_vm._v(\"\\n                    \"+_vm._s(item.name)+\"\\n                \")])]})],2),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show.success),expression:\"show.success\"}],staticClass:\"success\"},[_vm._v(\"你已经完成签到\")]),_vm._v(\" \"),_c('mt-field',{attrs:{\"label\":\"负责人姓名\",\"placeholder\":\"负责人姓名\"},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}}),_vm._v(\" \"),_c('mt-field',{attrs:{\"label\":\"联系方式\",\"placeholder\":\"联系方式\"},model:{value:(_vm.formData.tel),callback:function ($$v) {_vm.$set(_vm.formData, \"tel\", $$v)},expression:\"formData.tel\"}}),_vm._v(\" \"),_c('mt-button',{staticClass:\"submit\",attrs:{\"type\":\"primary\",\"disabled\":_vm.btnDisabled},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"\\n            签到\\n        \")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5e90a9ba\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Form.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5e90a9ba\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Form.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Form.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Form.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5e90a9ba\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Form.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5e90a9ba\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Form.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <Form/>\n  </div>\n</template>\n\n<script>\nimport Form from './components/Form'\n\nexport default {\n  name: 'App',\n  components: {\n    Form\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n#app {\n  background-color #f1f1f1;\n  height: 100%;\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Form')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-15a4da80\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-15a4da80\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-15a4da80\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-15a4da80\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport MintUI from 'mint-ui'\nimport 'mint-ui/lib/style.css'\nimport App from './App'\nimport './assets/reset.css'\n\nVue.use(MintUI)\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}